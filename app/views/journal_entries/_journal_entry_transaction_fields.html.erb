 <%= f.fields_for :journal_entry_transactions, wrapper: false do |ff| %>
  <tr class="fields">
    <td>
      <%= ff.select :chart_of_account_id, options_for_select(@chart_accounts, ff.object.chart_of_account_id), {include_blank: true}, class: "chart-account form-control" %>
    </td>
    <td><%= ff.text_field :debit,
      value: format_number(ff.object.debit),
      class: "form-control debit", autocomplete: "off" %></td>
    <td><%= ff.text_field :credit,
      value: format_number(ff.object.credit),
      class: "form-control credit", autocomplete: "off" %></td>
    <td><%= ff.text_field :description, class: "form-control description",
      autocomplete: "off" %></td>
    <td>
      <% if ff.object.chart_of_account %>
        <% if ff.object.chart_of_account.account_receivable? %>
          <%= render "name", ff: ff, data: @customers %>
        <% elsif ff.object.chart_of_account.account_payable? %>
          <%= render "name", ff: ff, data: @venders %>
        <% else %>
          <%= render "name", ff: ff, data: [] %>
        <% end %>
      <% else %>
        <%= render "name", ff: ff, data: [] %>
      <% end %>
    </td>
    <td hidden><%= ff.link_to_remove "Remove" %></td>
  </tr>
<% end %>
